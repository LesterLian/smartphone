# Data Files

## [train]/[drive_id]/[phone_name]/ground_truth.csv

Only provided for the training set. Reference locations at expected timestamps.

## **[train/test]/[drive_id]/[phone_name]/supplemental/[phone_name\][.20o/.21o/.nmea]** 

Equivalent data to the gnss logs in other formats used by the GPS community.

## **baseline_locations_[train/test].csv**

 Estimated coordinates generated using a simple approach.

## **ground_truth.csv** 

Reference locations at expected timestamps.

1. **millisSinceGpsEpoch** : int  时间戳，等于 round([Raw::TimeNanos](https://developer.android.com/reference/android/location/GnssClock#getTimeNanos()) - [Raw::FullBiasNanos](https://developer.android.com/reference/android/location/GnssClock#getFullBiasNanos()) / 1000000.0)
2. **latDeg**, **lngDeg** : float 经纬度， WGS84 ，Linear interpolation has been applied where necessary to align the location to the expected non-integer timestamps.
3. **heightAboveWgs84EllipsoidM** : float 相对高度, The height above the WGS84 ellipsoid (in meters) estimated by the reference GNSS receiver.
4. **?timeSinceFirstFixSeconds** : float ,The elapsed time (in seconds) since the first location fix. 
5. **hDop**,**vDop** : float ,[精度因子](https://zhuanlan.zhihu.com/p/67987508?from_voters_page=true)
6. **speedMpd** : float, The speed over ground in meters per second.
7. **?courseDegree** : float, The course angle clockwise with respect to the truth north over ground (in degrees).

## [train/test]/[drive_id]/[phone_name]/[phone_name]_derived.csv

GNSS intermediate values derived from raw GNSS measurements, provided for convenience.

With these derived values, a corrected pseudorange (i.e. a closer approximation to the geometric range from the phone to the satellite) can be computed as: correctedPrM = rawPrM + satClkBiasM - isrbM - ionoDelayM - tropoDelayM. 

The **baseline locations** are computed using correctedPrM and the satellite positions, using a standard Weighted Least Squares (WLS) solver, with the phone's position (x, y, z), clock bias (t), and isrbM for each unique signal type as states for each epoch.

1. **collectionName** : string, The name of the "grand" parent folder.
2. **phoneName** : string, The name of the parent folder.
3. **millisSinceGpsEpoch** : int, 时间戳
4. [`constellationType`](https://developer.android.com/reference/android/location/GnssMeasurement#getConstellationType()) : int, 星座类型, map :  **constellation_type_mapping.csv**
5. **svid** : int，卫星id
6. **signalType** : string, GNSS signal type， 星座名 +  frequency band 频段 (卫星导航系统频率)
7. **?receivedSvTimeInGpsNanos** : long 1e+18 芯片组接受到的信号传输时间，nanoseconds，unified time scale for all constellations
8. **[x/y/z]SatPosM** : float, 卫星位置
9. **[x/y/z]SatVelMps** : float, 卫星速度
10. **?satClkBiasMps** : float, The satellite clock drift in meters per second at the signal transmission time (receivedSvTimeInGpsNanos). It equals the difference of the satellite clock biases at t+0.5s and t-0.5s.
11. **rawPrM** : float, Raw pseudorange in meters, 伪距, It is the product between the speed of light and the time difference from the signal transmission time (receivedSvTimeInGpsNanos) to the signal arrival time ([Raw::TimeNanos](https://developer.android.com/reference/android/location/GnssClock#getTimeNanos()) - [Raw::FullBiasNanos](https://developer.android.com/reference/android/location/GnssClock#getFullBiasNanos()) - [Raw::BiasNanos](https://developer.android.com/reference/android/location/GnssClock#getBiasNanos())).
12. **?rawPrUncM** : float, Raw pseudorange uncertainty in meters. It is the product between the speed of light and the [ReceivedSvTimeUncertaintyNanos](https://developer.android.com/reference/android/location/GnssMeasurement#getReceivedSvTimeUncertaintyNanos()).
13. **isrbM** : float, The Inter-Signal Range Bias (ISRB) in meters from a non-GPS-L1 signal to GPS-L1 signals. For example, when the isrbM of GPS L5 is 1000m, it implies that a GPS L5 pseudorange is 1000m longer than the GPS L1 pseudorange transmitted by the same GPS satellite. It's zero for GPS-L1 signals. ISRB is introduced in the GPS chipset level and estimated as a state in the Weighted Least Squares engine.
14. **ionoDelayM** : float: 电离层延迟, The ionospheric delay in meters, estimated with the [Klobuchar](http://www.navipedia.net/index.php/Klobuchar_Ionospheric_Model) model.
15. **tropoDelayM** : float: 对流层延迟, The tropospheric delay in meters, estimated with [the EGNOS model](https://www.cambridge.org/core/journals/journal-of-navigation/article/abs/assessment-of-egnos-tropospheric-correction-model/1F187CB66A815FE22B75A1C2BFB728E2) by Nigel Penna, Alan Dodson and W. Chen (2001).

## **[train/test]/[drive_id]/[phone_name]/[phone_name]_GnssLog.txt**

The phone's logs as generated by the [GnssLogger App](https://play.google.com/store/apps/details?id=com.google.android.apps.location.gps.gnsslogger&hl=en_US&gl=US). [This notebook](https://www.kaggle.com/sohier/loading-gnss-logs/) demonstrates how to parse the logs. Each gnss file contains several sub-datasets, each of which is detailed below:

1. **utcTimeMillis** : int, 时间戳, Milliseconds since UTC epoch (1970/1/1), converted from [GnssClock](https://developer.android.com/reference/android/location/GnssClock)
2. 

